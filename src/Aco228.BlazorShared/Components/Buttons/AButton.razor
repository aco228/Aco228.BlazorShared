
<button class="a-btn"
        type="button"
        disabled="@(Disabled || IsLoading)"
        @onclick="OnClickCallback">
    @if (IsLoading)
    {
        <span class="a-btn-spinner"></span>
    }
    <span class="a-btn-content">
        <span class="a-btn-title">@Title</span>
        @if (!string.IsNullOrEmpty(Subtitle))
        {
            <span class="a-btn-subtitle">@Subtitle</span>
        }
    </span>
</button>

@code {
    [Inject] public NavigationManager NavigationManager { get; set; }
    [Parameter] public string Title { get; set; } = string.Empty;
    [Parameter] public string? Subtitle { get; set; }
    [Parameter] public bool Disabled { get; set; }
    [Parameter] public bool IsLoading { get; set; }
    [Parameter] public EventCallback OnClick { get; set; }
    [Parameter] public string Redirect { get; set; }

    private async Task OnClickCallback()
    {
        if(!string.IsNullOrEmpty(Redirect))
            NavigationManager.NavigateTo(Redirect);
        else
            await OnClick.InvokeAsync();
            
    }
}
